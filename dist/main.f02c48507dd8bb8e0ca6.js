!function(){var e={188:function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(){var n=function(){function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,n),!(t instanceof Node))throw"Can't initialize VanillaTilt because ".concat(t," is not a Node.");this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=t,this.settings=this.extendSettings(i),this.reverse=this.settings.reverse?-1:1,this.glare=n.isSettingTrue(this.settings.glare),this.glarePrerender=n.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=n.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=n.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.updateInitialPosition()}var i,a,s;return i=n,s=[{key:"isSettingTrue",value:function(e){return""===e||!0===e||1===e}},{key:"init",value:function(e,t){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach((function(e){"vanillaTilt"in e||(e.vanillaTilt=new n(e,t))}))}}],(a=[{key:"getElementListener",value:function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}},{key:"removeEventListeners",value:function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onDeviceOrientation",value:function(e){if(null!==e.gamma&&null!==e.beta){this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);var t=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,n=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,i=t/this.width,a=n/this.height,s=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/i,r=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/a;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:s+this.left,clientY:r+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}}},{key:"onMouseEnter",value:function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform="perspective(".concat(this.settings.perspective,"px) ")+"rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"),this.resetGlare()}},{key:"resetGlare",value:function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"updateInitialPosition",value:function(){if(0!==this.settings.startX||0!==this.settings.startY){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}}},{key:"getValues",value:function(){var e,t;return this.fullPageListening?(e=this.event.clientX/this.clientWidth,t=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(){var e=this.getValues();this.element.style.transform="perspective(".concat(this.settings.perspective,"px) ")+"rotateX(".concat("x"===this.settings.axis?0:e.tiltY,"deg) ")+"rotateY(".concat("y"===this.settings.axis?0:e.tiltX,"deg) ")+"scale3d(".concat(this.settings.scale,", ").concat(this.settings.scale,", ").concat(this.settings.scale,")"),this.glare&&(this.glareElement.style.transform="rotate(".concat(e.angle,"deg) translate(-50%, -50%)"),this.glareElement.style.opacity="".concat(e.percentageY*this.settings["max-glare"]/100)),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}},{key:"prepareGlare",value:function(){if(!this.glarePrerender){var e=document.createElement("div");e.classList.add("js-tilt-glare");var t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:"".concat(2*this.element.offsetWidth,"px"),height:"".concat(2*this.element.offsetWidth,"px"),transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}},{key:"updateGlareSize",value:function(){this.glare&&Object.assign(this.glareElement.style,{width:"".concat(2*this.element.offsetWidth),height:"".concat(2*this.element.offsetWidth)})}},{key:"updateClientSize",value:function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},{key:"onWindowResize",value:function(){this.updateGlareSize(),this.updateClientSize()}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition="".concat(this.settings.speed,"ms ").concat(this.settings.easing),this.glare&&(this.glareElement.style.transition="opacity ".concat(this.settings.speed,"ms ").concat(this.settings.easing)),this.transitionTimeout=setTimeout((function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")}),this.settings.speed)}},{key:"extendSettings",value:function(e){var t={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},n={};for(var i in t)if(i in e)n[i]=e[i];else if(this.element.hasAttribute("data-tilt-".concat(i))){var a=this.element.getAttribute("data-tilt-".concat(i));try{n[i]=JSON.parse(a)}catch(e){n[i]=a}}else n[i]=t[i];return n}}])&&t(i.prototype,a),s&&t(i,s),n}();"undefined"!=typeof document&&(window.VanillaTilt=n,n.init(document.querySelectorAll("[data-tilt]")))}()}},t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.previousOperandTextElement=e,this.currentOperandTextElement=n,this.clear()}var n,i,a;return n=t,(i=[{key:"clear",value:function(){this.currentOperand="0",this.previousOperand="",this.operation=void 0,this.equals=!1}},{key:"delete",value:function(){"0"!==this.currentOperand&&(this.currentOperand=this.currentOperand.toString().slice(0,-1),""===this.currentOperand&&(this.currentOperand="0"))}},{key:"appendNumber",value:function(e){this.equals&&(this.currentOperand="0",this.equals=!1),"."===e&&this.currentOperand.includes(".")||"0"===e&&("0"===this.currentOperand||"-"===this.currentOperand)||("0"===this.currentOperand&&/[1-9]/.test(e)&&(this.currentOperand=""),"-"===this.currentOperand&&"."===e&&(this.currentOperand="-0"),this.currentOperand=this.currentOperand.toString()+e.toString())}},{key:"choseOperation",value:function(e){this.equals&&(this.equals=!1),"0"===this.currentOperand&&"-"!==e||("0"!==this.currentOperand||"-"!==e?(""!==this.previousOperand&&this.compute(),this.operation=e,this.previousOperand=this.currentOperand,this.currentOperand="0"):this.currentOperand=e)}},{key:"compute",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=parseFloat(this.previousOperand),i=parseFloat(this.currentOperand);if(!Number.isNaN(n)&&!Number.isNaN(i)){switch(this.operation){case"+":e=n+i;break;case"-":e=n-i;break;case"*":e=n*i;break;case"*/*":e=n/i;break;case"^":e=Math.pow(n,i);break;default:return}this.currentOperand=+e.toFixed(10),Number.isNaN(this.currentOperand)&&(this.currentOperand=!1),this.operation=void 0,this.previousOperand="",this.equals=t}}},{key:"sqrtOperation",value:function(){var e=parseFloat(this.currentOperand);Number.isNaN(e)||(this.currentOperand=Math.sqrt(e),Number.isNaN(this.currentOperand)&&(this.currentOperand=!1))}},{key:"updateDisplay",value:function(){return!1===this.currentOperand||this.currentOperand===1/0?(this.currentOperandTextElement.innerText="",this.previousOperandTextElement.innerText="0",this.equals=!0,this.currentOperand="0",!0):(this.currentOperandTextElement.innerText=this.currentOperand,null!=this.operation?this.previousOperandTextElement.innerText="".concat(this.previousOperand," ").concat(this.operation):this.previousOperandTextElement.innerText=this.previousOperand,!1)}}])&&e(n.prototype,i),a&&e(n,a),t}(),i=function(e,t,n,i,a){var s=document.createElement(e);return void 0!==t&&s.classList.add(t),void 0!==n&&s.setAttribute(n[0],n[1]),void 0!==a&&s.setAttribute(a[0],a[1]),void 0!==i&&(s.innerHTML=i),s},a=[{action:["data-action","allClear"],textElement:"AC",key:["data_key","Delete"]},{action:["data-action","delete"],textElement:"DEL",key:["data_key","Backspace"]},{action:["data-action","operation"],textElement:"^",key:["data_key","Digit6"]},{action:["data-action","operation"],textElement:"*/*",key:["data_key","NumpadDivide"]},{action:["data-action","number"],textElement:"1",key:["data_key","Numpad1"]},{action:["data-action","number"],textElement:"2",key:["data_key","Numpad2"]},{action:["data-action","number"],textElement:"3",key:["data_key","Numpad3"]},{action:["data-action","operation"],textElement:"*",key:["data_key","NumpadMultiply"]},{action:["data-action","number"],textElement:"4",key:["data_key","Numpad4"]},{action:["data-action","number"],textElement:"5",key:["data_key","Numpad5"]},{action:["data-action","number"],textElement:"6",key:["data_key","Numpad6"]},{action:["data-action","operation"],textElement:"+",key:["data_key","NumpadAdd"]},{action:["data-action","number"],textElement:"7",key:["data_key","Numpad7"]},{action:["data-action","number"],textElement:"8",key:["data_key","Numpad8"]},{action:["data-action","number"],textElement:"9",key:["data_key","Numpad9"]},{action:["data-action","operation"],textElement:"-",key:["data_key","NumpadSubtract"]},{action:["data-action","number"],textElement:".",key:["data_key","NumpadDecimal"]},{action:["data-action","number"],textElement:"0",key:["data_key","Numpad0"]},{action:["data-action","equals"],textElement:"=",key:["data_key","NumpadEnter"]},{action:["data-action","sqrt"],textElement:"sq",key:["data_key","Digit7"]}],s=function(){var e=document.createElement("div");return e.classList.add("error-container"),e.innerHTML='\n    <div class="error__icon"></div>\n    <h4 class="error__title">Ошибка</h4>\n    <p class="error__text">вы сделали одну из недопустимых операций</p>\n    <ul class="error__list">\n      <li>Поделили число на ноль</li>\n      <li>Поделили ноль на ноль</li>\n      <li>Попыталась получить корень из отрицательного числа</li>\n    </ul>\n    \n    <button class="error__btn">Продолжить</button>\n  ',e};n(188);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=document.body,u=i("div","calculator"),h=i("div","output");u.append(h);var c=i("div","output-container");h.append(c);var d=i("div","calculator-numbers"),p=i("div","calculator-grid");d.append(p);var m=i("div","previous-operand"),g=i("div","current-operand",void 0,"0"),v=new t(m,g);c.append(m,g);var y=s();y.querySelector(".error__btn").addEventListener("click",(function(){y.remove(),u.append(h),u.append(d)}));var f=new Audio;f.src="klock.mp3";var k,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elem=t,t.onclick=this.onClick.bind(this),t.onkeydown=this.onKeydown.bind(this),t.onkeyup=this.onKeyup.bind(this)}var t,n,i;return t=e,(n=[{key:"allClear",value:function(){return v.clear(),this}},{key:"delete",value:function(){return v.delete(),this}},{key:"operation",value:function(e){return v.choseOperation(e),this}},{key:"number",value:function(e){return v.appendNumber(e),this}},{key:"equals",value:function(){return v.compute(!0),this}},{key:"sqrt",value:function(){return v.sqrtOperation(),this}},{key:"onClick",value:function(e){var t=e.target.dataset.action,n=e.target.textContent;if(t){this[t](n);var i=v.updateDisplay();f.currentTime=0,f.play(),i&&(d.remove(),h.remove(),u.append(y))}}},{key:"onKeydown",value:function(e){var t=this._elem.querySelector("[data_key=".concat(e.code,"]"));if(void 0!==t){var n=t.dataset.action,i=t.textContent;n&&(this[n](i),v.updateDisplay(),f.currentTime=0,f.play()),t.classList.add("playing")}}},{key:"onKeyup",value:function(e){var t=this._elem.querySelector("[data_key=".concat(e.code,"]"));void 0!==t&&t.classList.remove("playing")}}])&&o(t.prototype,n),i&&o(t,i),e}(),E=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw s}}}}(a);try{for(E.s();!(k=E.n()).done;){var x=k.value,O=i("button",void 0,x.action,x.textElement,x.key);/[0-9]/.test(+O.textContent)||O.classList.add("calculator-action"),p.append(O)}}catch(e){E.e(e)}finally{E.f()}new b(p),u.append(d),l.prepend(u);var w=document.querySelectorAll(".calculator-numbers"),L={max:15,speed:400,glare:!0,"max-glare":1};VanillaTilt.init(w,L)}()}();